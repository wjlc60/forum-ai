{"version":3,"sources":["../src/filters.js"],"names":["init","root","jqRoot","document","ready","hide","removeClass","generateWithFilters","event","newLink","attr","preventDefault","filterParams","target","search","substr","submit","on","submitWithFilter","containerelement","addClass","updateCalendarPosition","referenceid","referenceElement","querySelector","popperContent","Selectors","filters","date","calendar","style","removeProperty","Popper","placement","canOpenFilter","setAttribute","CustomEvents","events","activate","group","selectall","deselected","querySelectorAll","checkbox","forEach","checked","clear","selected","trigger","popover","classList","remove","add","save","focus","filtersForm","forms","filtersform","datesPopover","fromEnabled","toEnabled","Y","use","M","core_formchangechecker","reset_form_dirty_state","elements","value","args","data","push","Ajax","call","methodname","done","result","fromTimestamp","toTimestamp","key","timestamp","warningdiv","getElementById","calendariconfrom","calendariconto"],"mappings":"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","sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Module responsible for handling forum summary report filters.\n *\n * @module     forumreport_summary/filters\n * @package    forumreport_summary\n * @copyright  2019 Michael Hawkins <michaelh@moodle.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport $ from 'jquery';\nimport Popper from 'core/popper';\nimport CustomEvents from 'core/custom_interaction_events';\nimport Selectors from 'forumreport_summary/selectors';\nimport Y from 'core/yui';\nimport Ajax from 'core/ajax';\n\nexport const init = (root) => {\n    let jqRoot = $(root);\n\n    // Hide loading spinner and show report once page is ready.\n    // This ensures filters can be applied when sorting by columns.\n    $(document).ready(function() {\n        $('.loading-icon').hide();\n        $('#summaryreport').removeClass('hidden');\n    });\n\n    // Generic filter handlers.\n\n    // Called to override click event to trigger a proper generate request with filtering.\n    const generateWithFilters = (event) => {\n        let newLink = $('#filtersform').attr('action');\n\n        if (event) {\n            event.preventDefault();\n\n            let filterParams = event.target.search.substr(1);\n            newLink += '&' + filterParams;\n        }\n\n        $('#filtersform').attr('action', newLink);\n        $('#filtersform').submit();\n    };\n\n    // Override 'reset table preferences' so it generates with filters.\n    $('.resettable').on(\"click\", \"a\", function(event) {\n        generateWithFilters(event);\n    });\n\n    // Override table heading sort links so they generate with filters.\n    $('thead').on(\"click\", \"a\", function(event) {\n        generateWithFilters(event);\n    });\n\n    // Override pagination page links so they generate with filters.\n    $('.pagination').on(\"click\", \"a\", function(event) {\n        generateWithFilters(event);\n    });\n\n    // Submit report via filter\n    const submitWithFilter = (containerelement) => {\n        // Close the container (eg popover).\n        $(containerelement).addClass('hidden');\n\n        // Submit the filter values and re-generate report.\n        generateWithFilters(false);\n    };\n\n    // Use popper to override date mform calendar position.\n    const updateCalendarPosition = (referenceid) => {\n        let referenceElement = document.querySelector(referenceid),\n            popperContent = document.querySelector(Selectors.filters.date.calendar);\n\n        popperContent.style.removeProperty(\"z-index\");\n        new Popper(referenceElement, popperContent, {placement: 'bottom'});\n    };\n\n    // Call when opening filter to ensure only one can be activated.\n    const canOpenFilter = (event) => {\n        if (document.querySelector('[data-openfilter=\"true\"]')) {\n            return false;\n        }\n\n        event.target.setAttribute('data-openfilter', \"true\");\n        return true;\n    };\n\n    // Groups filter specific handlers.\n\n    // Event handler for clicking select all groups.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.group.selectall, function() {\n        let deselected = root.querySelectorAll(Selectors.filters.group.checkbox + ':not(:checked)');\n        deselected.forEach(function(checkbox) {\n            checkbox.checked = true;\n        });\n    });\n\n    // Event handler for clearing filter by clicking option.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.group.clear, function() {\n        // Clear checkboxes.\n        let selected = root.querySelectorAll(Selectors.filters.group.checkbox + ':checked');\n        selected.forEach(function(checkbox) {\n            checkbox.checked = false;\n        });\n    });\n\n    // Event handler for showing groups filter popover.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.group.trigger, function(event) {\n        if (!canOpenFilter(event)) {\n            return false;\n        }\n\n        // Create popover.\n        let referenceElement = root.querySelector(Selectors.filters.group.trigger),\n            popperContent = root.querySelector(Selectors.filters.group.popover);\n\n        new Popper(referenceElement, popperContent, {placement: 'bottom'});\n\n        // Show popover.\n        popperContent.classList.remove('hidden');\n\n        // Change to outlined button.\n        referenceElement.classList.add('btn-outline-primary');\n        referenceElement.classList.remove('btn-primary');\n\n        // Let screen readers know that it's now expanded.\n        referenceElement.setAttribute('aria-expanded', true);\n        return true;\n    });\n\n    // Event handler to click save groups filter.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.group.save, function() {\n        submitWithFilter('#filter-groups-popover');\n    });\n\n    // Dates filter specific handlers.\n\n   // Event handler for showing dates filter popover.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.date.trigger, function(event) {\n        if (!canOpenFilter(event)) {\n            return false;\n        }\n\n        // Create popover.\n        let referenceElement = root.querySelector(Selectors.filters.date.trigger),\n            popperContent = root.querySelector(Selectors.filters.date.popover);\n\n        new Popper(referenceElement, popperContent, {placement: 'bottom'});\n\n        // Show popover and move focus.\n        popperContent.classList.remove('hidden');\n        popperContent.querySelector('[name=\"filterdatefrompopover[enabled]\"]').focus();\n\n        // Change to outlined button.\n        referenceElement.classList.add('btn-outline-primary');\n        referenceElement.classList.remove('btn-primary');\n\n        // Let screen readers know that it's now expanded.\n        referenceElement.setAttribute('aria-expanded', true);\n        return true;\n    });\n\n    // Event handler to save dates filter.\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.date.save, function() {\n        // Populate the hidden form inputs to submit the data.\n        let filtersForm = document.forms.filtersform;\n        const datesPopover = root.querySelector(Selectors.filters.date.popover);\n        const fromEnabled = datesPopover.querySelector('[name=\"filterdatefrompopover[enabled]\"]').checked ? 1 : 0;\n        const toEnabled = datesPopover.querySelector('[name=\"filterdatetopopover[enabled]\"]').checked ? 1 : 0;\n\n        // Disable the mform checker to prevent unsubmitted form warning to the user when closing the popover.\n        Y.use('moodle-core-formchangechecker', function() {\n            M.core_formchangechecker.reset_form_dirty_state();\n        });\n\n        if (!fromEnabled && !toEnabled) {\n            // Update the elements in the filter form.\n            filtersForm.elements['datefrom[timestamp]'].value = 0;\n            filtersForm.elements['datefrom[enabled]'].value = fromEnabled;\n            filtersForm.elements['dateto[timestamp]'].value = 0;\n            filtersForm.elements['dateto[enabled]'].value = toEnabled;\n\n            // Submit the filter values and re-generate report.\n            submitWithFilter('#filter-dates-popover');\n        } else {\n            let args = {data: []};\n\n            if (fromEnabled) {\n                args.data.push({\n                    'key': 'from',\n                    'year': datesPopover.querySelector('[name=\"filterdatefrompopover[year]\"]').value,\n                    'month': datesPopover.querySelector('[name=\"filterdatefrompopover[month]\"]').value,\n                    'day': datesPopover.querySelector('[name=\"filterdatefrompopover[day]\"]').value,\n                    'hour': 0,\n                    'minute': 0\n                });\n            }\n\n            if (toEnabled) {\n                args.data.push({\n                    'key': 'to',\n                    'year': datesPopover.querySelector('[name=\"filterdatetopopover[year]\"]').value,\n                    'month': datesPopover.querySelector('[name=\"filterdatetopopover[month]\"]').value,\n                    'day': datesPopover.querySelector('[name=\"filterdatetopopover[day]\"]').value,\n                    'hour': 23,\n                    'minute': 59\n                });\n            }\n\n            const request = {\n                methodname: 'core_calendar_get_timestamps',\n                args: args\n            };\n\n            Ajax.call([request])[0].done(function(result) {\n                let fromTimestamp = 0,\n                    toTimestamp = 0;\n\n                result['timestamps'].forEach(function(data){\n                    if (data.key === 'from') {\n                        fromTimestamp = data.timestamp;\n                    } else if (data.key === 'to') {\n                        toTimestamp = data.timestamp;\n                    }\n                });\n\n                // Display an error if the from date is later than the do date.\n                if (toTimestamp > 0 && fromTimestamp > toTimestamp) {\n                    const warningdiv = document.getElementById('dates-filter-warning');\n                    warningdiv.classList.remove('hidden');\n                    warningdiv.classList.add('d-block');\n                } else {\n                    filtersForm.elements['datefrom[timestamp]'].value = fromTimestamp;\n                    filtersForm.elements['datefrom[enabled]'].value = fromEnabled;\n                    filtersForm.elements['dateto[timestamp]'].value = toTimestamp;\n                    filtersForm.elements['dateto[enabled]'].value = toEnabled;\n\n                    // Submit the filter values and re-generate report.\n                    submitWithFilter('#filter-dates-popover');\n                }\n            });\n        }\n    });\n\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.date.calendariconfrom, function() {\n        updateCalendarPosition(Selectors.filters.date.calendariconfrom);\n    });\n\n    jqRoot.on(CustomEvents.events.activate, Selectors.filters.date.calendariconto, function() {\n        updateCalendarPosition(Selectors.filters.date.calendariconto);\n    });\n};\n"],"file":"filters.min.js"}