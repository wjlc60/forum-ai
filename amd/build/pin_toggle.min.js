define ("mod_forum/pin_toggle",["jquery","core/ajax","core/str","core/templates","core/notification","mod_forum/repository","mod_forum/selectors","core/str","core/custom_interaction_events"],function(a,b,c,d,f,g,h,i,j){var k=function(b){b.on("click",h.pin.toggle,function(b){var c=a(this),e=c.data("forumid"),h=c.data("discussionid"),j=c.data("targetstate");g.setPinDiscussionState(e,h,j).then(function(a){return d.render("mod_forum/discussion_pin_toggle",a)}).then(function(a,b){return d.replaceNode(c,a,b)}).then(function(){return i.get_string("pinupdated","forum").done(function(a){return f.addNotification({message:a,type:"info"})})}).fail(f.exception);b.preventDefault()});b.on(j.events.activate,h.pin.toggleSwitch,function(b){var c=a(this),d=c.data("forumid"),e=c.data("discussionid"),h=c.data("targetstate");g.setPinDiscussionState(d,e,h).then(function(a){var b=a.pinned?0:1;return c.data("targetstate",b)}).then(function(){return i.get_string("pinupdated","forum")}).then(function(a){return f.addNotification({message:a,type:"info"})}).fail(f.exception);b.preventDefault()})};return{init:function init(a){k(a)}}});
//# sourceMappingURL=pin_toggle.min.js.map
